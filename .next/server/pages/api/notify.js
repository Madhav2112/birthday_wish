"use strict";(()=>{var e={};e.id=616,e.ids=[616],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},326:e=>{e.exports=import("resend")},249:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,n){return n in t?t[n]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,n)):"function"==typeof t&&"default"===n?t:void 0}}})},437:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{config:()=>c,default:()=>u,routeModule:()=>l});var r=n(802),o=n(153),i=n(249),s=n(262),d=e([s]);s=(d.then?(await d)():d)[0];let u=(0,i.l)(s,"default"),c=(0,i.l)(s,"config"),l=new r.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/notify",pathname:"/api/notify",bundlePath:"",filename:""},userland:s});a()}catch(e){a(e)}})},262:(e,t,n)=>{n.a(e,async(e,a)=>{try{n.r(t),n.d(t,{config:()=>s,default:()=>i});var r=n(326),o=e([r]);r=(o.then?(await o)():o)[0];let s={api:{bodyParser:!0}};async function i(e,t){try{console.log("BODY:",e.body);let{name:n,module:a,isHer:o}=e.body;if(!o)return t.status(200).json({message:"Skipped email (not her)"});let i=new r.Resend(process.env.RESEND_API_KEY);await i.emails.send({from:"Game Notification <onboarding@resend.dev>",to:"madhav.taneja01@gmail.com",subject:`She played: ${n}`,html:`
        <h2>She just played!</h2>
        <p><strong>${n}</strong> reached:</p>
        <p>${a}</p>
        <p>Go check the logs ðŸ‘€</p>
      `}),t.status(200).json({message:"Email sent"})}catch(e){console.error("ERROR in notify:",e),t.status(500).json({error:e.message})}}a()}catch(e){a(e)}})},153:(e,t)=>{var n;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return n}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(n||(n={}))},802:(e,t,n)=>{e.exports=n(145)}};var t=require("../../webpack-api-runtime.js");t.C(e);var n=t(t.s=437);module.exports=n})();