<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Module 4 • The Birthday Riddle</title>

<!-- FREE LIBRARIES -->
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>

<style>
/* ===============================
   PURPLE COSMIC BAG THEME
================================ */
:root {
  --void-purple: #05010c;
  --deep-purple: #14001f;
  --nebula-purple: #2a0445;
  --amethyst: #8b5cf6;
  --soft-lavender: #d6c7ff;
  --star-white: #f5f2ff;
}

/* RESET */
* { margin: 0; padding: 0; box-sizing: border-box; }

/* BACKGROUND — COSMIC PURPLE FOG */
html, body {
  width: 100%;
  height: 100%;
  font-family: system-ui, sans-serif;
  color: var(--star-white);
  background:
    radial-gradient(1200px 600px at 20% 15%, rgba(139,92,246,0.35), transparent 60%),
    radial-gradient(900px 500px at 80% 30%, rgba(173,128,255,0.28), transparent 65%),
    radial-gradient(700px 700px at 50% 80%, rgba(88,24,124,0.45), transparent 60%),
    linear-gradient(180deg, var(--nebula-purple), var(--void-purple));
  overflow-x: hidden;
}

/* LAYOUT */
body {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 40px 0 80px;
}

/* PARTICLES — VERY SOFT */
#particles-js {
  position: fixed;
  inset: 0;
  z-index: 0;
  opacity: 0.45;
}

/* CONTAINER */
.container {
  position: relative;
  z-index: 2;
  width: 100%;
  max-width: 650px;
  padding: 26px;
  text-align: center;
}

/* TITLE */
.title {
  font-size: clamp(1.7rem, 5vw, 2.2rem);
  margin-bottom: 18px;
  color: var(--soft-lavender);
  text-shadow:
    0 0 12px rgba(214,199,255,0.9),
    0 0 40px rgba(139,92,246,0.7);
  animation: float 5s ease-in-out infinite;
}

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

/* RIDDLE BOX */
.riddle-box {
  background: rgba(30, 6, 52, 0.75);
  padding: 26px 28px;
  border-radius: 18px;
  border: 1px solid rgba(180,150,255,0.35);
  box-shadow:
    0 0 40px rgba(120,60,200,0.35),
    inset 0 0 30px rgba(255,255,255,0.03);
  backdrop-filter: blur(8px);
  line-height: 1.7;
  font-size: 1.03rem;
}

/* INPUT */
.input-area { margin-top: 26px; }

input {
  width: 82%;
  max-width: 300px;
  padding: 14px 20px;
  border-radius: 999px;
  border: 1px solid rgba(200,170,255,0.4);
  background: rgba(255,255,255,0.07);
  color: #fff;
  text-align: center;
  font-size: 1rem;
}

input::placeholder { color: #e0d6ff; }

input:focus {
  outline: none;
  box-shadow:
    0 0 16px rgba(173,128,255,0.9),
    0 0 30px rgba(139,92,246,0.7);
  border-color: var(--soft-lavender);
}

/* BUTTONS */
.buttons-row {
  display: flex;
  gap: 16px;
  justify-content: center;
  margin-top: 16px;
}

button {
  padding: 12px 30px;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  font-weight: 700;
  color: #1a002b;
  background: linear-gradient(135deg, #9f7bff, #e1d4ff);
  box-shadow:
    0 0 22px rgba(160,120,255,0.7),
    inset 0 0 10px rgba(255,255,255,0.3);
  transition: transform 0.15s, box-shadow 0.15s;
}

button:hover {
  box-shadow:
    0 0 34px rgba(200,170,255,1);
}

button:active { transform: scale(0.95); }

/* FEEDBACK */
.feedback {
  margin-top: 18px;
  min-height: 26px;
  font-size: 1.08rem;
  text-shadow: 0 0 14px rgba(200,160,255,0.8);
}

.hint-text {
  margin-top: 8px;
  font-size: 0.92rem;
  color: #ddd1ff;
}

/* SUCCESS STAR */
.success-star {
  opacity: 0;
  font-size: 3.8rem;
  margin-top: 26px;
  filter:
    drop-shadow(0 0 18px #e1d4ff)
    drop-shadow(0 0 45px #8b5cf6);
}
</style>
</head>

<body>

<div id="particles-js"></div>

<div class="container">

  <div class="title">Module 4 • The Birthday Riddle</div>

  <div class="riddle-box">
    <b>Riddle:</b><br><br>
    “I’m not the sky,<br>
    I’m not the moon,<br>
    I’m not the stars that softly shine.<br>
    But on this day each year,<br>
    I’m the one<br>
    the whole universe seems to celebrate.<br>
    What am I?”
  </div>

  <div class="input-area">
    <input id="answerInput" placeholder="Type your answer & press Enter…" />
    <div class="buttons-row">
      <button onclick="checkAnswer()">Submit</button>
      <button onclick="showHint()">Hint</button>
    </div>
  </div>

  <div class="feedback" id="feedback"></div>
  <div class="hint-text" id="hintText"></div>

  <div class="success-star" id="successStar">⭐</div>
</div>

<script>
/* PARTICLES — PURPLE ONLY */
particlesJS("particles-js", {
  particles: {
    number: { value: 55 },
    color: { value: ["#d6c7ff", "#9f7bff", "#b08cff"] },
    opacity: { value: 0.6 },
    size: { value: 2 },
    move: { speed: 0.25 }
  },
  interactivity: {
    events: {
      onhover: { enable: true, mode: "grab" }
    }
  }
});

/* ENTER TO SUBMIT */
answerInput.addEventListener("keydown", e => {
  if (e.key === "Enter") {
    e.preventDefault();
    checkAnswer();
  }
});

/* HINTS */
const hints = [
  "Hint 1: It isn’t an object.",
  "Hint 2: It exists once every year.",
  "Final Hint: It’s you."
];
let hintIndex = 0;

function showHint() {
  hintText.textContent =
    hints[Math.min(hintIndex++, hints.length - 1)];
}

/* CHECK ANSWER */
function checkAnswer() {
  const raw = answerInput.value.trim().toLowerCase();
  const normalized = raw.replace(/[^a-z]/g, " ").replace(/\s+/g, " ").trim();
  const valid = ["you", "its you", "it's you", "me","jaisveen"];

  if (valid.includes(normalized)) {
    feedback.textContent = "✨ Exactly. The universe is celebrating you.";

    gsap.to("#successStar", {
      opacity: 1,
      scale: 1.25,
      rotation: 360,
      duration: 1.3,
      ease: "elastic.out(1,0.5)"
    });

    setTimeout(() => {
      location.href = "module5.html";
    }, 2400);
  } else if (!raw) {
    feedback.textContent = "Speak your answer into the cosmos…";
  } else {
    feedback.textContent = "Not quite. Think closer.";
  }
}
</script>

</body>
</html>
